version: "3.1"

stories:

# ========== FLUJOS BÁSICOS ==========
- story: Saludo y despedida simple
  steps:
  - intent: greet
  - action: utter_greet
  - intent: goodbye
  - action: utter_goodbye

- story: Saludo y menú principal
  steps:
  - intent: greet
  - action: utter_greet
  - intent: menu_principal
  - action: utter_menu_principal

# ========== CONSULTAS RÁPIDAS ESPECÍFICAS ==========
- story: Consulta rápida papeletas con RUC directo
  steps:
  - intent: consulta_rapida_papeletas_ruc
    entities:
    - ruc: "20123456789"
  - action: action_consultar_papeletas

- story: Consulta rápida código de falta directo
  steps:
  - intent: consulta_rapida_codigo_falta
    entities:
    - codigo_falta: "C15"
  - action: action_consultar_codigo_falta

- story: Multiple consultas rápidas
  steps:
  - intent: consulta_rapida_papeletas_placa
    entities:
    - placa: "ABC123"
  - action: action_consultar_papeletas
  - intent: consulta_rapida_papeletas_dni
    entities:
    - dni: "12345678"
  - action: action_consultar_papeletas

# ========== NAVEGACIÓN ENTRE OPCIONES ==========
- story: De saludo a casilla MTC
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ir_a_casilla_mtc
  - action: utter_casilla_mtc

- story: De casilla MTC a pagos
  steps:
  - intent: ir_a_casilla_mtc
  - action: utter_casilla_mtc
  - intent: ir_a_pagos_linea
  - action: utter_pagos_linea

- story: De pagos a papeletas
  steps:
  - intent: ir_a_pagos_linea
  - action: utter_pagos_linea
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu

- story: Navegación con menú principal
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: menu_principal
  - action: utter_menu_principal
  - intent: ir_a_pagos_linea
  - action: utter_pagos_linea

# ========== FLUJO PAPELETAS COMPLETO ==========
- story: Entrada a papeletas y consulta genérica
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_consultar_generico
  - action: action_consultar_papeletas

- story: Papeletas con placa específica en contexto
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_consultar_placa
    entities:
    - placa: "ABC123"
  - action: action_consultar_papeletas

- story: Papeletas con DNI en contexto
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_consultar_dni
    entities:
    - dni: "12345678"
  - action: action_consultar_papeletas

- story: Papeletas - registrar
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_registrar
  - action: utter_papeletas_registrar

- story: Papeletas - facilidades
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_facilidades
  - action: utter_papeletas_facilidades

- story: Papeletas - consultas frecuentes
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_frecuentes
  - action: utter_papeletas_frecuentes

- story: Papeletas - código en contexto
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_consultar_codigo_falta
    entities:
    - codigo_falta: "G40"
  - action: action_consultar_codigo_falta

# ========== CAMBIOS DE CONTEXTO ==========
- story: De papeletas a pagos
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: ir_a_pagos_linea
  - action: utter_pagos_linea

- story: De papeletas consulta a casilla MTC
  steps:
  - intent: consulta_rapida_papeletas_placa
    entities:
    - placa: "ABC123"
  - action: action_consultar_papeletas
  - intent: ir_a_casilla_mtc
  - action: utter_casilla_mtc

- story: De código a consulta papeletas
  steps:
  - intent: consulta_rapida_codigo_falta
    entities:
    - codigo_falta: "C15"
  - action: action_consultar_codigo_falta
  - intent: consulta_rapida_papeletas_dni
    entities:
    - dni: "87654321"
  - action: action_consultar_papeletas

# ========== USO DE NAVEGACIÓN GLOBAL ==========
- story: Usar otra consulta después de resultado
  steps:
  - intent: consulta_rapida_papeletas_placa
    entities:
    - placa: "ABC123"
  - action: action_consultar_papeletas
  - intent: otra_consulta
  - action: utter_otra_consulta

- story: Otra consulta desde papeletas a pagos
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: otra_consulta
  - action: utter_otra_consulta
  - intent: ir_a_pagos_linea
  - action: utter_pagos_linea

# ========== FLUJOS LARGOS REALISTAS ==========
- story: Usuario explorador completo
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_consultar_placa
    entities:
    - placa: "ABC123"
  - action: action_consultar_papeletas
  - intent: ir_a_pagos_linea
  - action: utter_pagos_linea
  - intent: otra_consulta
  - action: utter_otra_consulta
  - intent: consulta_rapida_papeletas_dni
    entities:
    - dni: "12345678"
  - action: action_consultar_papeletas

- story: Usuario con múltiples consultas específicas
  steps:
  - intent: consulta_rapida_papeletas_placa
    entities:
    - placa: "ABC123"
  - action: action_consultar_papeletas
  - intent: consulta_rapida_codigo_falta
    entities:
    - codigo_falta: "C15"
  - action: action_consultar_codigo_falta
  - intent: consulta_rapida_papeletas_ruc
    entities:
    - ruc: "20123456789"
  - action: action_consultar_papeletas
  - intent: ir_a_pagos_linea
  - action: utter_pagos_linea

- story: Usuario empresa completo
  steps:
  - intent: greet
  - action: utter_greet
  - intent: consulta_rapida_papeletas_ruc
    entities:
    - ruc: "20123456789"
  - action: action_consultar_papeletas
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_consultar_placa
    entities:
    - placa: "DEF456"
  - action: action_consultar_papeletas
  - intent: papeletas_facilidades
  - action: utter_papeletas_facilidades

# ========== FLUJOS CON FALLBACK Y RECUPERACIÓN ==========
- story: Usuario perdido que se recupera
  steps:
  - intent: greet
  - action: utter_greet
  - intent: nlu_fallback
  - action: utter_default
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_consultar_dni
    entities:
    - dni: "12345678"
  - action: action_consultar_papeletas

- story: Navegación después de fallback
  steps:
  - intent: nlu_fallback
  - action: utter_default
  - intent: menu_principal
  - action: utter_menu_principal
  - intent: consulta_rapida_codigo_falta
    entities:
    - codigo_falta: "M08"
  - action: action_consultar_codigo_falta

# ========== FLUJOS DE NAVEGACIÓN ENTRE SECCIONES ==========
- story: De facilidades a consulta
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_facilidades
  - action: utter_papeletas_facilidades
  - intent: papeletas_consultar_dni
    entities:
    - dni: "87654321"
  - action: action_consultar_papeletas

- story: De frecuentes a código
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_frecuentes
  - action: utter_papeletas_frecuentes
  - intent: papeletas_consultar_codigo_falta
    entities:
    - codigo_falta: "A05"
  - action: action_consultar_codigo_falta

# ========== CASOS ESPECÍFICOS DE DEBUGGING ==========
- story: Placa directa en contexto papeletas - caso APS583
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_consultar_placa
    entities:
    - placa: "APS583"
  - action: action_consultar_papeletas

- story: Multiple placas directas en contexto
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_consultar_placa
    entities:
    - placa: "ABC123"
  - action: action_consultar_papeletas
  - intent: papeletas_consultar_placa
    entities:
    - placa: "APS583"
  - action: action_consultar_papeletas

- story: DNI directo en contexto papeletas
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_consultar_dni
    entities:
    - dni: "87654321"
  - action: action_consultar_papeletas

# ========== FLUJOS DE FINALIZACIÓN ==========
- story: Consulta y despedida
  steps:
  - intent: consulta_rapida_papeletas_placa
    entities:
    - placa: "ABC123"
  - action: action_consultar_papeletas
  - intent: goodbye
  - action: utter_goodbye

- story: Navegación completa y finalización
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ir_a_casilla_mtc
  - action: utter_casilla_mtc
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: papeletas_consultar_placa
    entities:
    - placa: "XYZ789"
  - action: action_consultar_papeletas
  - intent: goodbye
  - action: utter_goodbye

- story: Consulta rápida papeletas con placa desde inicio
  steps:
  - intent: greet
  - action: utter_greet
  - intent: consulta_rapida_papeletas_placa
    entities:
    - placa: "ABC123"
  - action: action_consultar_papeletas

- story: Consulta rápida papeletas con DNI directo
  steps:
  - intent: consulta_rapida_papeletas_dni
    entities:
    - dni: "12345678"
  - action: action_consultar_papeletas

# ========== FLUJOS BÁSICOS IMPUESTOS ==========
- story: Saludo y navegación a impuestos
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu

- story: De papeletas a impuestos
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu

# ========== CONSULTAS RÁPIDAS ESPECÍFICAS IMPUESTOS ==========
- story: Consulta rápida impuestos con RUC directo
  steps:
  - intent: consulta_rapida_impuestos_ruc
    entities:
    - ruc: "20123456789"
  - action: action_consultar_impuestos

- story: Consulta rápida impuestos con código contribuyente directo
  steps:
  - intent: consulta_rapida_impuestos_codigo
    entities:
    - codigo_contribuyente: "94539"
  - action: action_consultar_impuestos

- story: Consulta rápida impuestos con placa directo
  steps:
  - intent: consulta_rapida_impuestos_placa
    entities:
    - placa: "ABC123"
  - action: action_consultar_impuestos

- story: Consulta rápida impuestos con DNI directo
  steps:
  - intent: consulta_rapida_impuestos_dni
    entities:
    - dni: "12345678"
  - action: action_consultar_impuestos

# ========== NAVEGACIÓN ENTRE CONTEXTOS ==========
- story: De impuestos a papeletas
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu

- story: De impuestos a pagos
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: ir_a_pagos_linea
  - action: utter_pagos_linea

# ========== FLUJO IMPUESTOS COMPLETO ==========
- story: Entrada a impuestos y consulta genérica
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_consultar_generico
  - action: action_consultar_impuestos

- story: Impuestos con placa específica en contexto
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_consultar_placa
    entities:
    - placa: "ZZZ111"
  - action: action_consultar_impuestos

- story: Impuestos con DNI en contexto
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_consultar_dni
    entities:
    - dni: "99999999"
  - action: action_consultar_impuestos

- story: Impuestos con código contribuyente en contexto
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_consultar_codigo
    entities:
    - codigo_contribuyente: "11111"
  - action: action_consultar_impuestos

# ========== FLUJOS DE CUADERNILLO TRIBUTARIO ==========
- story: Impuestos cuadernillo agencia virtual
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_cuadernillo_agencia_virtual
  - action: action_cuadernillo_agencia_virtual

- story: Impuestos cuadernillo predial
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_cuadernillo_predial
  - action: action_cuadernillo_predial

- story: Impuestos cuadernillo vehicular
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_cuadernillo_vehicular
  - action: action_cuadernillo_vehicular

# ========== FLUJOS DE DECLARACIONES ==========
- story: Impuestos declaración vehicular
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_declarar_vehicular
  - action: action_declaracion_impuesto_vehicular

- story: Impuestos declaración predial
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_declarar_predial
  - action: action_declaracion_impuesto_predial

- story: Impuestos liquidación alcabala
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_liquidar_alcabala
  - action: action_liquidacion_alcabala

- story: Impuestos fraccionar deuda
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_fraccionar_deuda
  - action: action_fraccionar_deuda

# ========== FLUJOS DE BENEFICIOS ==========
- story: Impuestos beneficios pensionista
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_beneficios_pensionista
  - action: action_beneficios_pensionista

- story: Impuestos beneficios adulto mayor
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_beneficios_adulto_mayor
  - action: action_beneficios_adulto_mayor

# ========== FLUJOS DE ROUTER ==========
- story: Router detecta contexto papeletas
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: consulta_ambigua_documento
    entities:
    - dni: "13579135"
  - action: action_route_document_consultation
  - action: action_consultar_papeletas

- story: Router detecta contexto impuestos
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: consulta_ambigua_documento
    entities:
    - codigo_contribuyente: "98765"
  - action: action_route_document_consultation
  - action: action_consultar_impuestos

- story: Router con clarificación papeletas
  steps:
  - intent: consulta_ambigua_documento
    entities:
    - dni: "24681246"
  - action: action_route_document_consultation
  - intent: clarify_papeletas
  - action: action_route_document_consultation
  - action: action_consultar_papeletas

- story: Router con clarificación impuestos
  steps:
  - intent: consulta_ambigua_documento
    entities:
    - placa: "ZAB789"
  - action: action_route_document_consultation
  - intent: clarify_impuestos
  - action: action_route_document_consultation
  - action: action_consultar_impuestos

# ========== FLUJOS LARGOS REALISTAS ==========
- story: Usuario explorador completo impuestos
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_consultar_placa
    entities:
    - placa: "ZZZ111"
  - action: action_consultar_impuestos
  - intent: impuestos_cuadernillo_vehicular
  - action: action_cuadernillo_vehicular

- story: Usuario empresa completo impuestos
  steps:
  - intent: greet
  - action: utter_greet
  - intent: consulta_rapida_impuestos_ruc
    entities:
    - ruc: "10111111111"
  - action: action_consultar_impuestos
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: impuestos_fraccionar_deuda
  - action: action_fraccionar_deuda

- story: Navegación mixta papeletas impuestos
  steps:
  - intent: consulta_rapida_papeletas_placa
    entities:
    - placa: "ABC123"
  - action: action_consultar_papeletas
  - intent: consulta_rapida_impuestos_placa
    entities:
    - placa: "ABC123"
  - action: action_consultar_impuestos
  - intent: ir_a_pagos_linea
  - action: utter_pagos_linea

- story: Consulta impuestos y despedida
  steps:
  - intent: consulta_rapida_impuestos_codigo
    entities:
    - codigo_contribuyente: "11111"
  - action: action_consultar_impuestos
  - intent: goodbye
  - action: utter_goodbye

# ========== FLUJOS BÁSICOS RETENCIÓN ==========
- story: Saludo y navegación a retención
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu

- story: De papeletas a retención
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu

- story: De impuestos a retención
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu

# ========== FLUJO RETENCIÓN COMPLETO ==========
- story: Entrada a retención y embargo
  steps:
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu
  - intent: retencion_embargo_cuentas
  - action: action_retencion_embargo

- story: Retención con orden de captura
  steps:
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu
  - intent: retencion_orden_captura
  - action: action_consultar_orden_captura

- story: Retención con vehículo internado
  steps:
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu
  - intent: retencion_vehiculo_internado
  - action: action_retencion_vehiculo_internado

- story: Retención suspender cobranza
  steps:
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu
  - intent: retencion_suspender_cobranza
  - action: action_retencion_suspender_cobranza

- story: Retención tercería
  steps:
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu
  - intent: retencion_terceria_propiedad
  - action: action_retencion_terceria_propiedad

- story: Retención levantamiento
  steps:
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu
  - intent: retencion_levantamiento
  - action: action_retencion_levantamiento

- story: Retención remate
  steps:
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu
  - intent: retencion_remate_vehicular
  - action: action_retencion_remate_vehicular

# ========== NAVEGACIÓN ENTRE CONTEXTOS ==========
- story: De retención a papeletas
  steps:
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu

- story: De retención a impuestos
  steps:
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu

- story: De retención a pagos
  steps:
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu
  - intent: ir_a_pagos_linea
  - action: utter_pagos_linea

# ========== FLUJOS ESPECÍFICOS CON PLACAS ==========
- story: Orden de captura con placa en contexto
  steps:
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu
  - intent: retencion_orden_captura
  - action: action_consultar_orden_captura
  - intent: retencion_consultar_placa
    entities:
    - placa: "CAP001"
  - action: action_consultar_orden_captura

# ========== NAVEGACIÓN COMPLETA ==========
- story: Usuario explorador retención completo
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu
  - intent: retencion_orden_captura
  - action: action_consultar_orden_captura
  - intent: retencion_embargo_cuentas
  - action: action_retencion_embargo

- story: Retención con menú principal
  steps:
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu
  - intent: menu_principal
  - action: utter_menu_principal
  - intent: ir_a_pagos_linea
  - action: utter_pagos_linea

- story: Consulta retención y despedida
  steps:
  - intent: ir_a_retencion_captura
  - action: utter_retencion_menu
  - intent: retencion_remate_vehicular
  - action: action_retencion_remate_vehicular
  - intent: goodbye
  - action: utter_goodbye

# ========== FLUJOS BÁSICOS LUGARES Y PAGOS ==========
- story: Saludo y navegación a lugares y pagos
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ir_a_lugares_pagos
  - action: utter_lugares_pagos_menu

- story: De otras opciones a lugares y pagos
  steps:
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu
  - intent: ir_a_lugares_pagos
  - action: utter_lugares_pagos_menu

# ========== FLUJO LUGARES Y PAGOS COMPLETO ==========
- story: Lugares - agencias y horarios
  steps:
  - intent: ir_a_lugares_pagos
  - action: utter_lugares_pagos_menu
  - intent: lugares_pagos_agencias_horarios
  - action: action_lugares_agencias_horarios

- story: Lugares - lugares de pago
  steps:
  - intent: ir_a_lugares_pagos
  - action: utter_lugares_pagos_menu
  - intent: lugares_pagos_lugares_pago
  - action: action_lugares_pago

- story: Lugares - formas de pago
  steps:
  - intent: ir_a_lugares_pagos
  - action: utter_lugares_pagos_menu
  - intent: lugares_pagos_formas_pago
  - action: action_lugares_formas_pago

# ========== NAVEGACIÓN ENTRE CONTEXTOS ==========
- story: De lugares a papeletas
  steps:
  - intent: ir_a_lugares_pagos
  - action: utter_lugares_pagos_menu
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu

- story: De lugares a pagos
  steps:
  - intent: ir_a_lugares_pagos
  - action: utter_lugares_pagos_menu
  - intent: ir_a_pagos_linea
  - action: utter_pagos_linea

# ========== FLUJOS COMPLETOS ==========
- story: Usuario explorador lugares completo
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ir_a_lugares_pagos
  - action: utter_lugares_pagos_menu
  - intent: lugares_pagos_agencias_horarios
  - action: action_lugares_agencias_horarios
  - intent: lugares_pagos_formas_pago
  - action: action_lugares_formas_pago

- story: Lugares con menú principal
  steps:
  - intent: ir_a_lugares_pagos
  - action: utter_lugares_pagos_menu
  - intent: menu_principal
  - action: utter_menu_principal

- story: Consulta lugares y despedida
  steps:
  - intent: ir_a_lugares_pagos
  - action: utter_lugares_pagos_menu
  - intent: lugares_pagos_lugares_pago
  - action: action_lugares_pago
  - intent: goodbye
  - action: utter_goodbye

# ========== FLUJOS BÁSICOS SERVICIOS VIRTUALES ==========
- story: Saludo y navegación a servicios virtuales
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu

- story: De otras opciones a servicios virtuales
  steps:
  - intent: ir_a_lugares_pagos
  - action: utter_lugares_pagos_menu
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu

# ========== FLUJO SERVICIOS VIRTUALES COMPLETO ==========
- story: Servicios - mesa de partes
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: servicios_virtuales_mesa_partes
  - action: action_servicios_mesa_partes

- story: Servicios - agencia virtual
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: servicios_virtuales_agencia_virtual
  - action: action_servicios_agencia_virtual

- story: Servicios - pitazo
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: servicios_virtuales_pitazo
  - action: action_servicios_pitazo

- story: Servicios - correo
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: servicios_virtuales_correo
  - action: action_servicios_correo

- story: Servicios - libro de reclamaciones
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: servicios_virtuales_libro_reclamaciones
  - action: action_servicios_libro_reclamaciones

- story: Servicios - cursos
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: servicios_virtuales_cursos
  - action: action_servicios_cursos

# ========== NAVEGACIÓN ENTRE CONTEXTOS ==========
- story: De servicios a papeletas
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu

- story: De servicios a impuestos
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: ir_a_impuestos
  - action: utter_impuestos_menu

- story: De servicios a lugares
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: ir_a_lugares_pagos
  - action: utter_lugares_pagos_menu

# ========== FLUJOS ESPECÍFICOS MÚLTIPLES ==========
- story: Servicios múltiples en una sesión
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: servicios_virtuales_mesa_partes
  - action: action_servicios_mesa_partes
  - intent: servicios_virtuales_agencia_virtual
  - action: action_servicios_agencia_virtual

- story: Servicios y navegación a otros contextos
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: servicios_virtuales_pitazo
  - action: action_servicios_pitazo
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu

# ========== FLUJOS COMPLETOS ==========
- story: Usuario explorador servicios completo
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: servicios_virtuales_libro_reclamaciones
  - action: action_servicios_libro_reclamaciones
  - intent: servicios_virtuales_cursos
  - action: action_servicios_cursos

- story: Servicios con menú principal
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: menu_principal
  - action: utter_menu_principal

- story: Consulta servicios y despedida
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: servicios_virtuales_correo
  - action: action_servicios_correo
  - intent: goodbye
  - action: utter_goodbye

# ========== FLUJOS DE INTEGRACIÓN CON OTRAS OPCIONES ==========
- story: De servicios a casilla MTC
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: servicios_virtuales_mesa_partes
  - action: action_servicios_mesa_partes
  - intent: ir_a_casilla_mtc
  - action: utter_casilla_mtc

- story: De servicios a pagos
  steps:
  - intent: ir_a_servicios_virtuales
  - action: utter_servicios_virtuales_menu
  - intent: servicios_virtuales_agencia_virtual
  - action: action_servicios_agencia_virtual
  - intent: ir_a_pagos_linea
  - action: utter_pagos_linea