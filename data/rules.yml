version: "3.1"

rules:

# ========== REGLAS BÁSICAS ==========
- rule: Saludo inicial
  steps:
  - intent: greet
  - action: utter_greet

- rule: Despedida
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Mostrar menú principal
  steps:
  - intent: menu_principal
  - action: utter_menu_principal

# ========== CONSULTAS RÁPIDAS ESPECÍFICAS (GLOBAL) ==========
- rule: Consulta rápida papeletas con placa
  steps:
  - intent: consulta_rapida_papeletas_placa
  - action: action_consultar_papeletas

- rule: Consulta rápida papeletas con DNI
  steps:
  - intent: consulta_rapida_papeletas_dni
  - action: action_consultar_papeletas

- rule: Consulta rápida papeletas con RUC
  steps:
  - intent: consulta_rapida_papeletas_ruc
  - action: action_consultar_papeletas

- rule: Consulta rápida código de falta
  steps:
  - intent: consulta_rapida_codigo_falta
  - action: action_consultar_codigo_falta

# ========== NAVEGACIÓN A CONTEXTOS ==========
- rule: Ir a Casilla MTC
  steps:
  - intent: ir_a_casilla_mtc
  - action: utter_casilla_mtc

- rule: Ir a Pagos en línea
  steps:
  - intent: ir_a_pagos_linea
  - action: utter_pagos_linea

- rule: Ir a Papeletas
  steps:
  - intent: ir_a_papeletas
  - action: utter_papeletas_menu

# ========== CONTEXTO PAPELETAS - CONSULTAS ESPECÍFICAS ==========
- rule: Papeletas - Consultar con placa
  steps:
  - intent: papeletas_consultar_placa
  - action: action_consultar_papeletas

- rule: Papeletas - Consultar con DNI
  steps:
  - intent: papeletas_consultar_dni
  - action: action_consultar_papeletas

- rule: Papeletas - Consultar con RUC
  steps:
  - intent: papeletas_consultar_ruc
  - action: action_consultar_papeletas

- rule: Papeletas - Consultar código de falta
  steps:
  - intent: papeletas_consultar_codigo_falta
  - action: action_consultar_codigo_falta

- rule: Papeletas - Consultar genérico
  steps:
  - intent: papeletas_consultar_generico
  - action: action_consultar_papeletas

- rule: Papeletas - Registrar
  steps:
  - intent: papeletas_registrar
  - action: utter_papeletas_registrar

- rule: Papeletas - Facilidades
  steps:
  - intent: papeletas_facilidades
  - action: utter_papeletas_facilidades

- rule: Papeletas - Frecuentes
  steps:
  - intent: papeletas_frecuentes
  - action: utter_papeletas_frecuentes

# ========== NAVEGACIÓN GLOBAL ==========
- rule: Otra consulta
  steps:
  - intent: otra_consulta
  - action: utter_otra_consulta

# ========== FALLBACK GLOBAL ==========
- rule: Fallback
  steps:
  - intent: nlu_fallback
  - action: utter_default